<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MapBox - Prove of concept</title>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
  </head>
  <body>
    <noscript>You need to enable javascript to run this application.</noscript>
    <div id="root"></div>
    <div id="map"></div>
<script>
	// TO MAKE THE MAP APPEAR YOU MUST
	// ADD YOUR ACCESS TOKEN FROM
	// https://account.mapbox.com
	mapboxgl.accessToken = 'pk.eyJ1IjoicmljYXJkb212YXJnYXMiLCJhIjoiY2xpYm01bWcyMGYyZDNkbXRta2pqNzY5bCJ9.fxuTrRTn9mHToe6im82fAg';
    const map = new mapboxgl.Map({
        container: 'map',
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/mapbox/light-v11',
        zoom: 8,
        // US:
        // center: [-74.5447, 40.6892],
        // NL:
        center: [5.295410, 52.05249],
        // 'globe' is the default
        // projection: 'lambertConformalConic',
        projection: 'mercator',
    });

    // layers:
    // https://www.pdok.nl/datasets?p_p_id=KadasterSearchPortlet&p_p_lifecycle=1&p_auth=OaCVyaoV&_KadasterSearchPortlet_javax.portlet.action=%2Fsearch%2Fexecute

    map.on('load', () => {
        map.addSource('wms-test-source', {
            'type': 'raster',
            // use the tiles option to specify a WMS tile source URL
            // https://docs.mapbox.com/mapbox-gl-js/style-spec/sources/
            // 'tiles': [
            //     'https://img.nj.gov/imagerywms/Natural2015?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&transparent=true&width=256&height=256&layers=Natural2015'
            // ],
            // AUTH ERROR:
            // 'tiles': [
            //     'https://atlasapi.cyclomedia.com/image/tms/layer/TEST_prmrdsgn_lufo/tiles/tile/pwecmhoslufostorage/lufo2015tiled/2015_tiled/{z}/{x}/{y}.jpg'
            // ],
            // Netherlands WMS layer | layerName: AU.AdministrativeBoundary | ESPG: 28992
            // 'tiles': [ 
            //     'https://service.pdok.nl/kadaster/au/wms/v2_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&FORMAT=image%2Fpng&TRANSPARENT=true&LAYERS=AU.AdministrativeBoundary&WIDTH=256&HEIGHT=256&CRS=EPSG%3A3857&STYLES=&BBOX={bbox-epsg-3857}'
            // ],
            // Netherlands WMS layer | layerName: Regionale wandelnetwerken | ESPG: 28992
            'tiles': [ 
                'https://service.pdok.nl/wandelnet/regionale-wandelnetwerken/wms/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetMap&FORMAT=image%2Fpng&TRANSPARENT=true&layers=wandelnetwerken&CRS=EPSG%3A3857&STYLES=&WIDTH=1920&HEIGHT=465&BBOX={bbox-epsg-3857}'
            ],
            'tileSize': 256,
            'type': 'raster',
            'attribution':'PDOK',
            'scheme': 'tms', 
        });
        map.addLayer(
            {
                'id': 'wms-test-layer',
                'type': 'raster',
                'source': 'wms-test-source',
                'paint': {}
            },
            'building' // Place layer under labels, roads and buildings.
        );
    });
</script>
  </body>
</html>
